spring.application.name=MilanoPastas-backend
spring.docker.compose.enabled=false

# --- Base de datos Supabase (POOLER) ---
spring.datasource.url=jdbc:postgresql://aws-1-sa-east-1.pooler.supabase.com:6543/postgres?sslmode=require
spring.datasource.username=postgres.rkmrzzxytzwiyadpgrjo
spring.datasource.password=qjzrzNvt21TrXbwK
spring.datasource.driver-class-name=org.postgresql.Driver

# --- Supabase Storage ---
supabase.url=https://rkmrzzxytzwiyadpgrjo.supabase.co
supabase.key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbXJ6enh5dHp3aXlhZHBncmpvIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MTgyODk2MywiZXhwIjoyMDc3NDA0OTYzfQ.ihPbCe0lPmQ1qcqQL1Saq0mUoMtVLtsuerV-BQrFzB4

# --- Configuraci�n segura del pool de conexiones (HikariCP) ---
spring.datasource.hikari.maximum-pool-size=3
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.leak-detection-threshold=20000



# --- Hibernate / JPA ---
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# --- Soluci�n: el pooler NO soporta prepared statements ---
spring.datasource.hikari.data-source-properties.prepareThreshold=0
spring.datasource.hikari.data-source-properties.useServerPrepStmts=false

spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=15MB

# Desactivar Liquibase
spring.liquibase.enabled=false

# Puerto del servidor
server.port=8080

# Email (reemplaz� con tu mail)
# Configuraci�n de correo (Gmail)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=matiascamacho454@gmail.com
spring.mail.password=jicisppqctpktsue
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# JWT configuration
jwt.secret=MilanoPastasSuperSecretKey2025MilanoPastasSuperSecretKey2025
jwt.expiration=3600000

# reCAPTCHA configuration
recaptcha.site=6LfPYfwrAAAAAKBSJbUd0_Jxr1N0hdlReVe2HPDV
recaptcha.secret=6LfPYfwrAAAAAAlAT2TXuQfPKyfSR3IASrDqqvhi


spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000

logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.springframework.security=INFO
